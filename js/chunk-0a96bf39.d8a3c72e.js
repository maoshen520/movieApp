(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0a96bf39"],{"05a9":function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"buy-movie"},[r("van-nav-bar",{attrs:{title:"座位选择","left-text":"返回","left-arrow":""},on:{"click-left":t.back}}),r("div",{staticClass:"content clearfix"},[r("div",{staticClass:"img fl"},[r("img",{staticClass:"auto-img",attrs:{src:t.small,alt:""}})]),r("div",{staticClass:"title-box fl"},[r("div",{staticClass:"title movie-name"},[t._v(t._s(t.data.title))]),r("div",{staticClass:"title movie-type"},[t._v(t._s(t.data.genresInfo))]),r("div",{staticClass:"title movie-time"},[t._v(t._s(t.movieTime))]),r("div",{staticClass:"title time"},[t._v(t._s(t.data.pubdate))]),t._m(0)])]),r("div",{staticClass:"chair-box"},t._l(t.chairDatas,(function(e,a){return r("div",{key:a,staticClass:"chair"},t._l(e,(function(e,a){return r("span",{key:a,class:{buying:"buying"==e.type,selected:"selected"==e.type},on:{click:function(r){return t.selectChair(e)}}})})),0)})),0),r("div",{staticClass:"tick-box"},[r("ul",{staticClass:"tick clearfix",style:{width:93*t.userChairData.length+"px"}},t._l(t.userChairData,(function(e,a){return r("li",{key:a,ref:"userchair",refInFor:!0},[r("span",{staticClass:"c c1"}),r("i",{staticClass:"r r1"}),t._v(t._s(e.row)+"排"+t._s(e.col)+"座"),r("span",{staticClass:"c c2"}),r("i",{staticClass:"r r2"})])})),0)]),t._m(1),r("div",{staticClass:"buy-tick"},[r("span",{staticClass:"fl total"},[t._v("合计：￥ "),r("span",{staticClass:"allPrice"},[t._v(t._s(t.allPrice)+".00")])]),r("span",{staticClass:"fr pay",on:{click:function(e){return t.subOrder(t.data,t.userChairData,t.allPrice)}}},[t._v("确认支付")])])],1)},o=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"fr price-box"},[r("span",{staticClass:"price"},[t._v("￥40")]),r("span",[t._v("/张")])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"chair-flag clearfix"},[r("div",[r("div",{staticClass:"c-box clearfix"},[r("i",{staticClass:"c-bg fl c-bg1"}),r("span",{staticClass:"fl buyed"},[t._v("可选")])])]),r("div",[r("div",{staticClass:"c-box clearfix m-box"},[r("i",{staticClass:"c-bg fl c-bg2"}),r("span",{staticClass:"fl buyed"},[t._v("已选")])])]),r("div",[r("div",{staticClass:"c-box clearfix fr"},[r("i",{staticClass:"c-bg fl c-bg3"}),r("span",{staticClass:"fl buyed"},[t._v("已售")])])])])}],c=(r("4160"),r("a15b"),r("a434"),r("0d03"),r("c96a"),r("159b"),{name:"buyMovie",data:function(){return{data:[],small:"",average:"",movieTime:"",chairDatas:[[{row:1,col:1,type:""},{row:1,col:2,type:""},{row:1,col:3,type:""},{row:1,col:4,type:""},{row:1,col:5,type:""},{row:1,col:6,type:""},{row:1,col:7,type:""},{row:1,col:8,type:""},{row:1,col:9,type:""},{row:1,col:10,type:""}],[{row:2,col:1,type:""},{row:2,col:2,type:""},{row:2,col:3,type:""},{row:2,col:4,type:""},{row:2,col:5,type:""},{row:2,col:6,type:""},{row:2,col:7,type:""},{row:2,col:8,type:""},{row:2,col:9,type:""},{row:2,col:10,type:""}],[{row:3,col:1,type:""},{row:3,col:2,type:""},{row:3,col:3,type:""},{row:3,col:4,type:""},{row:3,col:5,type:""},{row:3,col:6,type:""},{row:3,col:7,type:""},{row:3,col:8,type:""},{row:3,col:9,type:""},{row:3,col:10,type:""}],[{row:4,col:1,type:""},{row:4,col:2,type:""},{row:4,col:3,type:""},{row:4,col:4,type:""},{row:4,col:5,type:""},{row:4,col:6,type:""},{row:4,col:7,type:""},{row:4,col:8,type:""},{row:4,col:9,type:""},{row:4,col:10,type:""}],[{row:5,col:1,type:""},{row:5,col:2,type:""},{row:5,col:3,type:""},{row:5,col:4,type:""},{row:5,col:5,type:""},{row:5,col:6,type:""},{row:5,col:7,type:""},{row:5,col:8,type:""},{row:5,col:9,type:""},{row:5,col:10,type:""}],[{row:6,col:1,type:""},{row:6,col:2,type:""},{row:6,col:3,type:""},{row:6,col:4,type:""},{row:6,col:5,type:""},{row:6,col:6,type:""},{row:6,col:7,type:""},{row:6,col:8,type:""},{row:6,col:9,type:""},{row:6,col:10,type:""}],[{row:7,col:1,type:""},{row:7,col:2,type:""},{row:7,col:3,type:""},{row:7,col:4,type:""},{row:7,col:5,type:""},{row:7,col:6,type:""},{row:7,col:7,type:""},{row:7,col:8,type:""},{row:7,col:9,type:""},{row:7,col:10,type:""}]],userChairData:[],allPrice:0}},created:function(){var t=this;this.$toast({duration:0,message:"加载中......"});var e=this.$route.params.id,r=localStorage.getItem("orderData");r=r?JSON.parse(r):[],r.forEach((function(r){r.data.id===e&&r.userChairData.forEach((function(e){t.chairDatas.forEach((function(t){t.forEach((function(t){t.col===e.col&&t.row===e.row&&(t.type="buying")}))}))}))})),this.axios({method:"GET",url:"https://douban.uieee.com/v2/movie/subject/"+e}).then((function(e){e.data.genresInfo=e.data.genres.join(" / "),t.data=e.data,t.small=t.data.images.small,t.average=t.data.rating.average,t.movieTime=t.data.durations[0],t.$toast.clear()})).catch((function(e){t.$toast.clear()}))},methods:{back:function(){this.$router.go(-1)},selectChair:function(t){var e=this;"buying"!=t.type&&(""==t.type?(t.type="selected",this.userChairData.push(t),this.price()):(t.type="selected")&&(t.type="",this.userChairData.forEach((function(r){r==t&&(e.userChairData.splice(r,1),e.price())}))))},price:function(){this.allPrice=40*this.userChairData.length},subOrder:function(t,e,r){var a=localStorage.getItem("orderData");a=a?JSON.parse(a):[];var o=this;if(!(this.allPrice=0)){var c=3*Math.random()*1e3;setTimeout((function(){(new Date).getTime();var c={data:t,userChairData:e,allPrice:r};a.unshift(c),localStorage.setItem("orderData",JSON.stringify(a)),o.$toast({duration:2e3,message:"支付成功"}),setTimeout((function(){o.$router.push({name:"order"})}),3e3)}),c)}}}}),i=c,s=(r("81df"),r("2877")),n=Object(s["a"])(i,a,o,!1,null,"73c2306a",null);e["default"]=n.exports},"0d03":function(t,e,r){var a=r("6eeb"),o=Date.prototype,c="Invalid Date",i="toString",s=o[i],n=o.getTime;new Date(NaN)+""!=c&&a(o,i,(function(){var t=n.call(this);return t===t?s.call(this):c}))},"159b":function(t,e,r){var a=r("da84"),o=r("fdbc"),c=r("17c2"),i=r("9112");for(var s in o){var n=a[s],l=n&&n.prototype;if(l&&l.forEach!==c)try{i(l,"forEach",c)}catch(u){l.forEach=c}}},"17c2":function(t,e,r){"use strict";var a=r("b727").forEach,o=r("b301");t.exports=o("forEach")?function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}:[].forEach},"1dde":function(t,e,r){var a=r("d039"),o=r("b622"),c=r("60ae"),i=o("species");t.exports=function(t){return c>=51||!a((function(){var e=[],r=e.constructor={};return r[i]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},4160:function(t,e,r){"use strict";var a=r("23e7"),o=r("17c2");a({target:"Array",proto:!0,forced:[].forEach!=o},{forEach:o})},"65f0":function(t,e,r){var a=r("861d"),o=r("e8b5"),c=r("b622"),i=c("species");t.exports=function(t,e){var r;return o(t)&&(r=t.constructor,"function"!=typeof r||r!==Array&&!o(r.prototype)?a(r)&&(r=r[i],null===r&&(r=void 0)):r=void 0),new(void 0===r?Array:r)(0===e?0:e)}},"81df":function(t,e,r){"use strict";var a=r("afcd"),o=r.n(a);o.a},8418:function(t,e,r){"use strict";var a=r("c04e"),o=r("9bf2"),c=r("5c6c");t.exports=function(t,e,r){var i=a(e);i in t?o.f(t,i,c(0,r)):t[i]=r}},"857a":function(t,e,r){var a=r("1d80"),o=/"/g;t.exports=function(t,e,r,c){var i=String(a(t)),s="<"+e;return""!==r&&(s+=" "+r+'="'+String(c).replace(o,"&quot;")+'"'),s+">"+i+"</"+e+">"}},a15b:function(t,e,r){"use strict";var a=r("23e7"),o=r("44ad"),c=r("fc6a"),i=r("b301"),s=[].join,n=o!=Object,l=i("join",",");a({target:"Array",proto:!0,forced:n||l},{join:function(t){return s.call(c(this),void 0===t?",":t)}})},a434:function(t,e,r){"use strict";var a=r("23e7"),o=r("23cb"),c=r("a691"),i=r("50c4"),s=r("7b0b"),n=r("65f0"),l=r("8418"),u=r("1dde"),f=Math.max,p=Math.min,y=9007199254740991,d="Maximum allowed length exceeded";a({target:"Array",proto:!0,forced:!u("splice")},{splice:function(t,e){var r,a,u,v,w,h,b=s(this),m=i(b.length),g=o(t,m),C=arguments.length;if(0===C?r=a=0:1===C?(r=0,a=m-g):(r=C-2,a=p(f(c(e),0),m-g)),m+r-a>y)throw TypeError(d);for(u=n(b,a),v=0;v<a;v++)w=g+v,w in b&&l(u,v,b[w]);if(u.length=a,r<a){for(v=g;v<m-a;v++)w=v+a,h=v+r,w in b?b[h]=b[w]:delete b[h];for(v=m;v>m-a+r;v--)delete b[v-1]}else if(r>a)for(v=m-a;v>g;v--)w=v+a-1,h=v+r-1,w in b?b[h]=b[w]:delete b[h];for(v=0;v<r;v++)b[v+g]=arguments[v+2];return b.length=m-a+r,u}})},afcd:function(t,e,r){},b301:function(t,e,r){"use strict";var a=r("d039");t.exports=function(t,e){var r=[][t];return!r||!a((function(){r.call(null,e||function(){throw 1},1)}))}},b727:function(t,e,r){var a=r("f8c2"),o=r("44ad"),c=r("7b0b"),i=r("50c4"),s=r("65f0"),n=[].push,l=function(t){var e=1==t,r=2==t,l=3==t,u=4==t,f=6==t,p=5==t||f;return function(y,d,v,w){for(var h,b,m=c(y),g=o(m),C=a(d,v,3),x=i(g.length),_=0,S=w||s,L=e?S(y,x):r?S(y,0):void 0;x>_;_++)if((p||_ in g)&&(h=g[_],b=C(h,_,m),t))if(e)L[_]=b;else if(b)switch(t){case 3:return!0;case 5:return h;case 6:return _;case 2:n.call(L,h)}else if(u)return!1;return f?-1:l||u?u:L}};t.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6)}},c96a:function(t,e,r){"use strict";var a=r("23e7"),o=r("857a"),c=r("eae9");a({target:"String",proto:!0,forced:c("small")},{small:function(){return o(this,"small","","")}})},e8b5:function(t,e,r){var a=r("c6b6");t.exports=Array.isArray||function(t){return"Array"==a(t)}},eae9:function(t,e,r){var a=r("d039");t.exports=function(t){return a((function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}))}},fdbc:function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}}]);
//# sourceMappingURL=chunk-0a96bf39.d8a3c72e.js.map