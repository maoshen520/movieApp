(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4de11a6c"],{"043a":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"movieDetail"},[i("div",{staticClass:"header-top"},[i("van-nav-bar",{attrs:{title:"电影详情","left-text":"返回","left-arrow":""},on:{"click-left":t.back}})],1),i("div",{staticClass:"movie-content-box"},[i("div",{staticClass:"content clearfix"},[i("div",{staticClass:"m-content"},[i("div",{staticClass:"img fl"},[i("img",{staticClass:"auto-img",attrs:{src:t.small,alt:""}})]),i("div",{staticClass:"title-box fl"},[i("div",{staticClass:"title movie-name"},[t._v(t._s(t.movieDetailData.title))]),i("div",{staticClass:"title number"},[t._v(t._s(t.average))]),i("div",{staticClass:"title movie-type"},[t._v(t._s(t.movieDetailData.genresInfo))]),i("div",{staticClass:"title movie-time"},[t._v(t._s(t.movieTime))]),i("div",{staticClass:"title time"},[t._v("上映时间:"+t._s(t.movieDetailData.pubdate))])]),i("div",{staticClass:"bottom fl"},[i("div",{staticClass:"like fl",on:{click:function(e){return e.stopPropagation(),t.collection()}}},[t._v(t._s(t.text))]),i("div",{staticClass:"score fl"},[t._v("评分")])])])]),i("div",{staticClass:"introduce"},[t._v(t._s(t.movieDetailData.summary))]),i("div",{staticClass:"performer-content-box"},[i("div",{staticClass:"title"},[t._v("相关演员")]),i("div",{staticClass:"performer-content"},[i("div",{staticClass:"performer-box clearfix",style:{width:100*t.length-9+"px"}},t._l(t.movieDetailData.casts,(function(e,a){return i("div",{key:a,staticClass:"performer fl"},[i("div",{staticClass:"img"},[i("img",{staticClass:"auto-img",attrs:{src:e.avatars.small,alt:""}})]),i("div",{staticClass:"name"},[t._v(t._s(e.name))])])})),0)])]),i("div",{staticClass:"stills-content-box"},[i("div",{staticClass:"title"},[t._v("电影剧照")]),i("div",{staticClass:"stills-content"},[i("div",{staticClass:"stills-box clearfix",style:{width:100*t.length2-9+"px"}},t._l(t.movieDetailData.photos,(function(t,e){return i("div",{key:e,staticClass:"stills fl"},[i("div",{staticClass:"img"},[i("img",{staticClass:"auto-img",attrs:{src:t.image,alt:""}})])])})),0)])]),i("div",{staticClass:"comment-box"},[i("div",{staticClass:"title"},[t._v("精选评论")]),t._l(t.movieDetailData.popular_comments,(function(e,a){return i("div",{key:a,staticClass:"comment-content "},[i("div",{staticClass:"user-img-box clearfix"},[i("div",{staticClass:"user-img fl"},[i("img",{staticClass:"auto-img",attrs:{src:e.author.avatar,alt:""}})]),i("div",{staticClass:"name fl"},[t._v(t._s(e.author.name))])]),i("div",{staticClass:"comment-content-box"},[i("div",{staticClass:"comment-content-text"},[t._v(t._s(e.content))]),i("div",{staticClass:"time"},[t._v(t._s(e.created_at))])])])}))],2)]),i("van-button",{staticClass:"btn",attrs:{type:"danger",block:""},on:{click:function(e){return t.buyMovie({name:"buyMovie",params:{id:t.id}})}}},[t._v("立即购票")])],1)},s=[],o=(i("4160"),i("a15b"),i("a434"),i("c96a"),i("159b"),{name:"movieDetail",data:function(){return{id:"",movieDetailData:[],small:"",average:"",movieTime:"",length:"",length2:"",text:"收藏",isCollection:!1}},created:function(){var t=this;this.$toast({duration:0,message:"加载中......"});var e=this.$route.params.id;this.id=e;var i="";this.axios({method:"GET",url:"https://douban.uieee.com/v2/movie/subject/"+e}).then((function(e){i=1,e.data.genresInfo=e.data.genres.join(" / "),t.movieDetailData=e.data,t.small=t.movieDetailData.images.small,t.average=t.movieDetailData.rating.average,t.movieTime=t.movieDetailData.durations[0],t.length=t.movieDetailData.casts.length,t.length2=t.movieDetailData.photos.length,t.$toast.clear()})).catch((function(e){t.$toast.clear()})),console.log("path ==>",i);var a=localStorage.getItem("collectionData");a=a?JSON.parse(a):[],a.forEach((function(e){e.id===t.id&&(t.text="已收藏",t.isCollection=!0)}))},methods:{back:function(){this.$router.go(-1)},buyMovie:function(t){localStorage.getItem("isLogin");!0?this.$router.push(t):!1&&(this.$toast({duration:2e3,message:"请先登录"}),this.$router.push({name:"login"}))},collection:function(){var t=this;if(this.isCollection=!this.isCollection,1==this.isCollection){this.text="已收藏";var e=localStorage.getItem("collectionData");e=e?JSON.parse(e):[],e.push(this.movieDetailData),localStorage.setItem("collectionData",JSON.stringify(e))}else if(0==this.isCollection){this.text="收藏";var i=localStorage.getItem("collectionData");i=i?JSON.parse(i):[],i.forEach((function(e){e.id===t.id&&(i.splice(e,1),localStorage.setItem("collectionData",JSON.stringify(i)))}))}}}}),n=o,r=(i("0ddd"),i("2877")),c=Object(r["a"])(n,a,s,!1,null,"3afe6cc4",null);e["default"]=c.exports},"0ddd":function(t,e,i){"use strict";var a=i("8d90"),s=i.n(a);s.a},"159b":function(t,e,i){var a=i("da84"),s=i("fdbc"),o=i("17c2"),n=i("9112");for(var r in s){var c=a[r],l=c&&c.prototype;if(l&&l.forEach!==o)try{n(l,"forEach",o)}catch(u){l.forEach=o}}},"17c2":function(t,e,i){"use strict";var a=i("b727").forEach,s=i("b301");t.exports=s("forEach")?function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}:[].forEach},"1dde":function(t,e,i){var a=i("d039"),s=i("b622"),o=i("60ae"),n=s("species");t.exports=function(t){return o>=51||!a((function(){var e=[],i=e.constructor={};return i[n]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},4160:function(t,e,i){"use strict";var a=i("23e7"),s=i("17c2");a({target:"Array",proto:!0,forced:[].forEach!=s},{forEach:s})},"65f0":function(t,e,i){var a=i("861d"),s=i("e8b5"),o=i("b622"),n=o("species");t.exports=function(t,e){var i;return s(t)&&(i=t.constructor,"function"!=typeof i||i!==Array&&!s(i.prototype)?a(i)&&(i=i[n],null===i&&(i=void 0)):i=void 0),new(void 0===i?Array:i)(0===e?0:e)}},8418:function(t,e,i){"use strict";var a=i("c04e"),s=i("9bf2"),o=i("5c6c");t.exports=function(t,e,i){var n=a(e);n in t?s.f(t,n,o(0,i)):t[n]=i}},"857a":function(t,e,i){var a=i("1d80"),s=/"/g;t.exports=function(t,e,i,o){var n=String(a(t)),r="<"+e;return""!==i&&(r+=" "+i+'="'+String(o).replace(s,"&quot;")+'"'),r+">"+n+"</"+e+">"}},"8d90":function(t,e,i){},a15b:function(t,e,i){"use strict";var a=i("23e7"),s=i("44ad"),o=i("fc6a"),n=i("b301"),r=[].join,c=s!=Object,l=n("join",",");a({target:"Array",proto:!0,forced:c||l},{join:function(t){return r.call(o(this),void 0===t?",":t)}})},a434:function(t,e,i){"use strict";var a=i("23e7"),s=i("23cb"),o=i("a691"),n=i("50c4"),r=i("7b0b"),c=i("65f0"),l=i("8418"),u=i("1dde"),v=Math.max,f=Math.min,d=9007199254740991,m="Maximum allowed length exceeded";a({target:"Array",proto:!0,forced:!u("splice")},{splice:function(t,e){var i,a,u,h,g,p,C=r(this),b=n(C.length),D=s(t,b),x=arguments.length;if(0===x?i=a=0:1===x?(i=0,a=b-D):(i=x-2,a=f(v(o(e),0),b-D)),b+i-a>d)throw TypeError(m);for(u=c(C,a),h=0;h<a;h++)g=D+h,g in C&&l(u,h,C[g]);if(u.length=a,i<a){for(h=D;h<b-a;h++)g=h+a,p=h+i,g in C?C[p]=C[g]:delete C[p];for(h=b;h>b-a+i;h--)delete C[h-1]}else if(i>a)for(h=b-a;h>D;h--)g=h+a-1,p=h+i-1,g in C?C[p]=C[g]:delete C[p];for(h=0;h<i;h++)C[h+D]=arguments[h+2];return C.length=b-a+i,u}})},b301:function(t,e,i){"use strict";var a=i("d039");t.exports=function(t,e){var i=[][t];return!i||!a((function(){i.call(null,e||function(){throw 1},1)}))}},b727:function(t,e,i){var a=i("f8c2"),s=i("44ad"),o=i("7b0b"),n=i("50c4"),r=i("65f0"),c=[].push,l=function(t){var e=1==t,i=2==t,l=3==t,u=4==t,v=6==t,f=5==t||v;return function(d,m,h,g){for(var p,C,b=o(d),D=s(b),x=a(m,h,3),S=n(D.length),_=0,y=g||r,L=e?y(d,S):i?y(d,0):void 0;S>_;_++)if((f||_ in D)&&(p=D[_],C=x(p,_,b),t))if(e)L[_]=C;else if(C)switch(t){case 3:return!0;case 5:return p;case 6:return _;case 2:c.call(L,p)}else if(u)return!1;return v?-1:l||u?u:L}};t.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6)}},c96a:function(t,e,i){"use strict";var a=i("23e7"),s=i("857a"),o=i("eae9");a({target:"String",proto:!0,forced:o("small")},{small:function(){return s(this,"small","","")}})},e8b5:function(t,e,i){var a=i("c6b6");t.exports=Array.isArray||function(t){return"Array"==a(t)}},eae9:function(t,e,i){var a=i("d039");t.exports=function(t){return a((function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}))}},fdbc:function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}}]);
//# sourceMappingURL=chunk-4de11a6c.90f0fec0.js.map